<?xml version="1.0" encoding="UTF-8"?>
<!--
    Includes_ShadowTouch.xml
    Shadow Touch | Kodi 22 (Piers) | Touch-first
    =============================================
    Enthält:
      - ShadowTouchVerticalGrid  (Panel mit TMDB Helper)
      - ShadowTouchBottomNav     (4 Icons, Floating Glassmorphism Pill)

    Pixel 7 Layout (2400x1080 virtuell, 20:9):
      Grid:   2400 x 920 (top=0, Grid scrollt leicht unter Pill)
      NavBar: Floating Pill 1400x130 | left=500 | bottom=40
              → Pill-Top: y=910 | 10px Grid-Overlap (iOS-Stil)
-->
<includes>

	<!-- ═══════════════════════════════════════════════════ -->
	<!-- POSTER GRID - TMDB Helper                          -->
	<!-- Panel: scrollt vertikal, touch-optimiert           -->
	<!-- 7 Spalten × 310px = 2170px | Zentriert in 2400px  -->
	<!-- left=115px (Rand links=rechts=115px)               -->
	<!-- TMDB Helper: &widget=True = gecacht, kein API-Key  -->
	<!-- ═══════════════════════════════════════════════════ -->
	<include name="ShadowTouchVerticalGrid">
		<control type="panel" id="9300">
			<!-- Zentriert: (2400 - 7×310) / 2 = 115px Rand beidseitig -->
			<left>115</left>
			<top>0</top>
			<width>2170</width>
			<!-- Höhe = Bildschirm minus NavBar -->
			<height>920</height>

			<!-- Touch-Navigation -->
			<!-- onup/ondown auf sich selbst: verhindert Fokusverlust beim Touch-Scroll am Rand -->
			<!-- NavBar-Buttons sind weiterhin per direktem Finger-Tap erreichbar -->
			<onup>9300</onup>
			<ondown>9300</ondown>
			<onleft>9300</onleft>
			<onright>9300</onright>

			<!-- Scroll-Einstellungen -->
			<orientation>vertical</orientation>
			<scrolltime tween="cubic" easing="out">250</scrolltime>
			<preloaditems>3</preloaditems>
			<pagecontrol>-</pagecontrol>

			<!-- Tap → Kodi Info-Dialog für das fokussierte Item -->
			<onclick>Action(Info)</onclick>

			<!-- ─── Unfocused Layout ─── -->
			<!-- Item: 310x450px | Poster: 280x420px (exakt 2:3!) | 15px Rand = 30px Abstand -->
			<itemlayout width="310" height="450">
				<!-- Poster -->
				<control type="image">
					<left>15</left>
					<top>15</top>
					<width>280</width>
					<height>420</height>
					<texture background="true" fallback="DefaultVideo.png">$INFO[ListItem.Art(poster)]</texture>
					<aspectratio>scale</aspectratio>
				</control>
				<!-- Abgerundete Ecken: opake Hintergrundfarbe-Maske über dem Poster -->
				<control type="image">
					<left>15</left>
					<top>15</top>
					<width>280</width>
					<height>420</height>
					<texture>poster_rounded_mask.png</texture>
					<aspectratio>stretch</aspectratio>
				</control>
			</itemlayout>

			<!-- ─── Focused Layout ─── -->
			<focusedlayout width="310" height="450">
				<!-- Hintergrund-Glow (Akzentfarbe) -->
				<control type="image">
					<left>12</left>
					<top>12</top>
					<width>286</width>
					<height>426</height>
					<texture colordiffuse="ST_GLOW">colors/white.png</texture>
					<aspectratio>stretch</aspectratio>
					<animation effect="fade" start="0" end="100" time="150">Focus</animation>
					<animation effect="fade" start="100" end="0" time="150">UnFocus</animation>
				</control>
				<!-- Poster (leicht skaliert beim Fokus) -->
				<control type="image">
					<left>15</left>
					<top>15</top>
					<width>280</width>
					<height>420</height>
					<texture background="true" fallback="DefaultVideo.png">$INFO[ListItem.Art(poster)]</texture>
					<aspectratio>scale</aspectratio>
					<animation effect="zoom" start="100" end="104" time="150" tween="sine" easing="out">Focus</animation>
					<animation effect="zoom" start="104" end="100" time="150" tween="sine" easing="out">UnFocus</animation>
				</control>
				<!-- Abgerundete Ecken: Maske sitzt über dem Poster, zoomt synchron -->
				<control type="image">
					<left>15</left>
					<top>15</top>
					<width>280</width>
					<height>420</height>
					<texture>poster_rounded_mask.png</texture>
					<aspectratio>stretch</aspectratio>
					<animation effect="zoom" start="100" end="104" time="150" tween="sine" easing="out">Focus</animation>
					<animation effect="zoom" start="104" end="100" time="150" tween="sine" easing="out">UnFocus</animation>
				</control>
				<!-- Akzent-Rahmen -->
				<control type="image">
					<left>13</left>
					<top>13</top>
					<width>284</width>
					<height>424</height>
					<bordertexture border="3" colordiffuse="ST_BORDER_FOCUS">colors/white.png</bordertexture>
					<bordersize>3</bordersize>
					<texture>-</texture>
					<animation effect="fade" start="0" end="100" time="150">Focus</animation>
					<animation effect="fade" start="100" end="0" time="150">UnFocus</animation>
				</control>
			</focusedlayout>

			<!-- ─── TMDB Helper Content ─── -->
			<!-- widget=True: gecacht + kein TMDB API-Key nötig (über TMDB Helper Settings) -->
			<content target="videos">plugin://plugin.video.themoviedb.helper/?info=popular&amp;type=movie&amp;widget=True</content>

		</control>
	</include>


	<!-- ═══════════════════════════════════════════════════════════════ -->
	<!-- FLOATING PILL NAVIGATION BAR (Glassmorphism)                   -->
	<!-- 4 Icons | Floating | Touch-Target: 350×130px pro Button        -->
	<!-- IDs: 9201–9204 | Pill: 1400×130px | Zentriert (20:9 Pixel 7)  -->
	<!--                                                                  -->
	<!-- Remixicon v4.3 Codepoints (verifiziert aus TTF-Cmap):          -->
	<!--   home-line   U+EDF3  glyph 1011                               -->
	<!--   tv-line     U+F1A3  glyph 1955                               -->
	<!--   film-line   U+ECFC  glyph 764                                -->
	<!--   search-line U+F05C  glyph 1628                               -->
	<!--                                                                  -->
	<!-- Pill-PNG: nav_pill.png (280×26px, radius=13 → skaliert 5× auf  -->
	<!--           1400×130px ohne Verzerrung, Eckenradius=65px)        -->
	<!-- ═══════════════════════════════════════════════════════════════ -->
	<include name="ShadowTouchBottomNav">
		<control type="group" id="9200">
			<!-- Pill: 1400×130px | Horizontal zentriert: (2400-1400)/2=500 -->
			<!-- Schwebend: 40px Abstand zum unteren Rand                    -->
			<left>500</left>
			<bottom>40</bottom>
			<width>1400</width>
			<height>130</height>

			<!-- ─── Layer 1: Drop Shadow ─── -->
			<!-- Leicht nach unten versetzt, dunkle Pill → Tiefenwirkung -->
			<control type="image">
				<left>-5</left>
				<top>6</top>
				<width>1410</width>
				<height>134</height>
				<texture colordiffuse="ST_PILL_SHADOW">nav_pill.png</texture>
				<aspectratio>stretch</aspectratio>
			</control>

			<!-- ─── Layer 2: Glassmorphism Hintergrund ─── -->
			<!-- Pill-Form: 80% opak, sehr dunkles Blau-Schwarz           -->
			<control type="image">
				<left>0</left>
				<top>0</top>
				<width>1400</width>
				<height>130</height>
				<texture colordiffuse="ST_PILL_BG">nav_pill.png</texture>
				<aspectratio>stretch</aspectratio>
			</control>

			<!-- ─── Layer 3: Outline-Border ─── -->
			<!-- Subtile weiße Pill-Outline (12% Deckkraft)               -->
			<control type="image">
				<left>0</left>
				<top>0</top>
				<width>1400</width>
				<height>130</height>
				<texture colordiffuse="ST_PILL_BORDER">nav_pill.png</texture>
				<aspectratio>stretch</aspectratio>
			</control>

			<!-- ─── Layer 4: Top-Highlight ─── -->
			<!-- Helle Linie oben: simuliert Lichteinfall von oben (25%)  -->
			<!-- Innerhalb der Pill-Kurve: links/rechts 65px Offset        -->
			<control type="image">
				<left>65</left>
				<top>1</top>
				<width>1270</width>
				<height>2</height>
				<texture colordiffuse="ST_PILL_TOP">colors/white.png</texture>
				<aspectratio>stretch</aspectratio>
			</control>

			<!-- ════════════════════════════════════════════════════════ -->
			<!-- NAV BUTTONS                                              -->
			<!-- Jeder Button: 350×130px | Icon: NavIcon (remixicon, 46) -->
			<!-- Unfokussiert: ST_TEXT_DIM (50% weiß)                    -->
			<!-- Fokussiert: ST_TEXT (100% weiß) + Glow-Hintergrund      -->
			<!-- ════════════════════════════════════════════════════════ -->

			<!-- ─── HOME ─── id=9201 | x=0 ─── -->
			<control type="button" id="9201">
				<left>0</left>
				<top>0</top>
				<width>350</width>
				<height>130</height>
				<label>&#xEDF3;</label>
				<font>NavIcon</font>
				<textcolor>ST_TEXT_DIM</textcolor>
				<focusedcolor>ST_TEXT</focusedcolor>
				<align>center</align>
				<aligny>center</aligny>
				<texturefocus colordiffuse="ST_NAV_FOCUS">nav_btn_glow.png</texturefocus>
				<texturenofocus>-</texturenofocus>
				<onup>9300</onup>
				<ondown>9201</ondown>
				<onleft>9204</onleft>
				<onright>9202</onright>
				<onclick>SetFocus(9300)</onclick>
			</control>

			<!-- ─── LIVE TV ─── id=9202 | x=350 ─── -->
			<control type="button" id="9202">
				<left>350</left>
				<top>0</top>
				<width>350</width>
				<height>130</height>
				<label>&#xF1A3;</label>
				<font>NavIcon</font>
				<textcolor>ST_TEXT_DIM</textcolor>
				<focusedcolor>ST_TEXT</focusedcolor>
				<align>center</align>
				<aligny>center</aligny>
				<texturefocus colordiffuse="ST_NAV_FOCUS">nav_btn_glow.png</texturefocus>
				<texturenofocus>-</texturenofocus>
				<onup>9300</onup>
				<ondown>9202</ondown>
				<onleft>9201</onleft>
				<onright>9203</onright>
				<onclick>ActivateWindow(TVGuide)</onclick>
			</control>

			<!-- ─── VIDEO LIBRARY ─── id=9203 | x=700 ─── -->
			<control type="button" id="9203">
				<left>700</left>
				<top>0</top>
				<width>350</width>
				<height>130</height>
				<label>&#xECFC;</label>
				<font>NavIcon</font>
				<textcolor>ST_TEXT_DIM</textcolor>
				<focusedcolor>ST_TEXT</focusedcolor>
				<align>center</align>
				<aligny>center</aligny>
				<texturefocus colordiffuse="ST_NAV_FOCUS">nav_btn_glow.png</texturefocus>
				<texturenofocus>-</texturenofocus>
				<onup>9300</onup>
				<ondown>9203</ondown>
				<onleft>9202</onleft>
				<onright>9204</onright>
				<onclick>ActivateWindow(Videos,videodb://movies/titles/,return)</onclick>
			</control>

			<!-- ─── SEARCH ─── id=9204 | x=1050 ─── -->
			<control type="button" id="9204">
				<left>1050</left>
				<top>0</top>
				<width>350</width>
				<height>130</height>
				<label>&#xF05C;</label>
				<font>NavIcon</font>
				<textcolor>ST_TEXT_DIM</textcolor>
				<focusedcolor>ST_TEXT</focusedcolor>
				<align>center</align>
				<aligny>center</aligny>
				<texturefocus colordiffuse="ST_NAV_FOCUS">nav_btn_glow.png</texturefocus>
				<texturenofocus>-</texturenofocus>
				<onup>9300</onup>
				<ondown>9204</ondown>
				<onleft>9203</onleft>
				<onright>9201</onright>
				<onclick>ActivateWindow(Search)</onclick>
			</control>

		</control>
	</include>

</includes>
